(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4541:function(e,t,a){Promise.resolve().then(a.bind(a,5659))},5659:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var n=a(7437);function Header(){return(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{children:"Suivi Alimentaire de Joy Nathana\xebl RAKOTOSOLOFO"}),(0,n.jsx)("p",{children:"Bas\xe9 sur les recommandations du Dr AIDIBE KADRA Sarah"})]})}var s=a(2265),i=a(359);let r=(0,i.eI)("https://bahsqzsdkycdckqeejbu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhaHNxenNka3ljZGNrcWVlamJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3MzIzNDIsImV4cCI6MjA3NzMwODM0Mn0.54_fjZI3fcCrLUbHxCMfu8Rd1PZxEY2s6iMPSfsyATM"),l={async getWeekData(e){let{data:t,error:a}=await r.from("food_tracker").select("*").eq("week_start",e).order("day_order",{ascending:!0});if(a)throw a;return t},async saveDayData(e){let{data:t,error:a}=await r.from("food_tracker").upsert(e,{onConflict:"week_start,day_name"});if(a)throw a;return t},async getWeeksHistory(){let{data:e,error:t}=await r.from("food_tracker").select("week_start").order("week_start",{ascending:!1});if(t)throw t;return[...new Set(e.map(e=>e.week_start))]}},o=[{name:"Lundi",order:1},{name:"Mardi",order:2},{name:"Mercredi",order:3},{name:"Jeudi",order:4},{name:"Vendredi",order:5},{name:"Samedi",order:6},{name:"Dimanche",order:7}],d=["210ml eau + 7 mesures lait 2\xe8me \xe2ge","210ml eau + 7 mesures lait 2\xe8me \xe2ge + 1-2 c.\xe0.s c\xe9r\xe9ales"],c=["Carottes","Haricots verts","\xc9pinards","Courgettes","Blanc de poireaux","Potirons","Betteraves rouges","Brocolis","Tomates","Bettes (limit\xe9)","Endives (jeunes, limit\xe9)","Petits pois (extra-fins, limit\xe9)"],x=["10g viande rouge","10g viande blanche","10g jambon cuit d\xe9couenn\xe9","10g poisson maigre","10g poisson gras","10g œuf cuit dur (jaune seulement)"],u=["Pomme","Poire","Banane","P\xeache","Abricot","Compote maison (sans sucre)","Petit pot de fruits"],m=["Laitage b\xe9b\xe9 (yaourt, petit suisse) + biscuit + fruits","Laitage b\xe9b\xe9 seul","Biscuit + fruits","Compote de fruits maison"],h=["Biberon de 210ml eau + 7 mesures lait 2\xe8me \xe2ge + 1-2 c.\xe0.s c\xe9r\xe9ales","Biberon de soupe avec 5 mesures de lait 2\xe8me \xe2ge","Pur\xe9e de l\xe9gumes + fromage r\xe2p\xe9 + biberon 120-150ml lait","Petit pot l\xe9gumes + biberon lait"];function FoodTracker(){let[e,t]=(0,s.useState)(""),[i,r]=(0,s.useState)({}),[p,g]=(0,s.useState)(!0),[j,v]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1),getMonday=e=>{let t=new Date(e),a=t.getDay(),n=t.getDate()-a+(0===a?-6:1),s=new Date(t.setDate(n));return s.toISOString().split("T")[0]};(0,s.useEffect)(()=>{let e=new Date,a=getMonday(e);t(a)},[]),(0,s.useEffect)(()=>{e&&(loadWeekData(),loadWeeksHistory())},[e]);let loadWeekData=async()=>{g(!0);try{let t=await l.getWeekData(e),a={};if(t&&t.length>0)t.forEach(e=>{a[e.day_name]=e}),r(a);else{let t={};o.forEach(a=>{t[a.name]={week_start:e,day_name:a.name,day_order:a.order,morning:"",vegetable:"",protein:"",fruit_lunch:"",snack:"",evening:"",remarks:""}}),r(t)}}catch(a){console.error("Erreur lors du chargement:",a);let t={};o.forEach(a=>{t[a.name]={week_start:e,day_name:a.name,day_order:a.order}}),r(t)}g(!1)},loadWeeksHistory=async()=>{try{let e=await l.getWeeksHistory();v(e||[])}catch(e){console.error("Erreur lors du chargement de l'historique:",e),v([])}},saveDayData=async(t,a,n)=>{let s=i[t]||{week_start:e,day_name:t,day_order:o.find(e=>e.name===t).order},d={...s,[a]:n,updated_at:new Date().toISOString()};try{await l.saveDayData(d),r(e=>({...e,[t]:d}))}catch(e){console.error("Erreur lors de la sauvegarde:",e),alert("Erreur lors de la sauvegarde")}},getDayData=(e,t)=>{var a;return(null===(a=i[e])||void 0===a?void 0:a[t])||""},navigateWeek=a=>{let n=new Date(e),s=new Date(n);s.setDate(n.getDate()+7*a),t(getMonday(s))},getWeekDisplay=e=>{try{let t=new Date(e),a=new Date(t);return a.setDate(t.getDate()+6),"Semaine du ".concat(t.toLocaleDateString("fr-FR")," au ").concat(a.toLocaleDateString("fr-FR"))}catch(e){return"Semaine en cours"}},generatePDF=async()=>{f(!0);try{let{default:t}=await Promise.all([a.e(125),a.e(505),a.e(720)]).then(a.bind(a,930)),{default:n}=await a.e(337).then(a.t.bind(a,2692,23)),s=document.createElement("div");s.style.position="absolute",s.style.left="-9999px",s.style.top="0",s.style.width="1200px",s.style.backgroundColor="white",s.style.padding="20px",s.style.fontFamily="Arial, sans-serif",s.innerHTML='\n        <div style="text-align: center; margin-bottom: 20px;">\n          <h1 style="color: #333; margin-bottom: 10px; font-size: 24px;">Suivi Alimentaire de Joy Nathana\xebl</h1>\n          <h2 style="color: #666; margin-bottom: 5px; font-size: 18px;">'.concat(getWeekDisplay(e),'</h2>\n          <p style="color: #999; font-size: 14px;">Bas\xe9 sur les recommandations du Dr AIDIBE KADRA Sarah</p>\n        </div>\n        \n        <table style="width: 100%; border-collapse: collapse; font-size: 12px;">\n          <thead>\n            <tr>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Jour</th>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Matin</th>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Midi</th>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Go\xfbter (16h)</th>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Soir</th>\n              <th style="border: 1px solid #ddd; padding: 8px; background-color: #4a90e2; color: white; text-align: left;">Remarques</th>\n            </tr>\n          </thead>\n          <tbody>\n            ').concat(o.map(e=>{let t=i[e.name]||{};return'\n                <tr>\n                  <td style="border: 1px solid #ddd; padding: 8px; font-weight: bold;">'.concat(e.name,'</td>\n                  <td style="border: 1px solid #ddd; padding: 8px;">').concat(t.morning||"",'</td>\n                  <td style="border: 1px solid #ddd; padding: 8px;">\n                    ').concat(t.vegetable?"<div><strong>L\xe9gume:</strong> ".concat(t.vegetable,"</div>"):"","\n                    ").concat(t.protein?"<div><strong>Prot\xe9ine:</strong> ".concat(t.protein,"</div>"):"","\n                    ").concat(t.fruit_lunch?"<div><strong>Fruit:</strong> ".concat(t.fruit_lunch,"</div>"):"",'\n                  </td>\n                  <td style="border: 1px solid #ddd; padding: 8px;">').concat(t.snack||"",'</td>\n                  <td style="border: 1px solid #ddd; padding: 8px;">').concat(t.evening||"",'</td>\n                  <td style="border: 1px solid #ddd; padding: 8px;">').concat(t.remarks||"","</td>\n                </tr>\n              ")}).join(""),'\n          </tbody>\n        </table>\n        \n        <div style="margin-top: 30px; text-align: center; font-size: 12px; color: #666;">\n          <p>G\xe9n\xe9r\xe9 le ').concat(new Date().toLocaleDateString("fr-FR")," \xe0 ").concat(new Date().toLocaleTimeString("fr-FR"),"</p>\n        </div>\n      "),document.body.appendChild(s);let r=await n(s,{scale:2,useCORS:!0,logging:!1}),l=r.toDataURL("image/png"),d=new t("l","mm","a4"),c=d.getImageProperties(l),x=d.internal.pageSize.getWidth(),u=c.height*x/c.width;d.addImage(l,"PNG",0,0,x,u),d.save("suivi-alimentaire-".concat(e,".pdf")),document.body.removeChild(s)}catch(e){console.error("Erreur lors de la g\xe9n\xe9ration du PDF:",e),alert("Erreur lors de la g\xe9n\xe9ration du PDF")}finally{f(!1)}};return p?(0,n.jsx)("div",{className:"loading",children:"Chargement des donn\xe9es..."}):(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("div",{className:"week-navigation",children:[(0,n.jsxs)("div",{className:"week-nav-buttons",children:[(0,n.jsx)("button",{className:"btn",onClick:()=>navigateWeek(-1),title:"Semaine pr\xe9c\xe9dente",children:"←"}),(0,n.jsx)("h2",{style:{margin:0},children:getWeekDisplay(e)}),(0,n.jsx)("button",{className:"btn",onClick:()=>navigateWeek(1),title:"Semaine suivante",children:"→"})]}),(0,n.jsxs)("div",{className:"week-actions",children:[(0,n.jsx)("button",{className:"btn",onClick:()=>{let e=new Date;t(getMonday(e))},children:"Cette semaine"}),(0,n.jsx)("button",{className:"btn btn-success",onClick:generatePDF,disabled:b,children:b?"⏳ G\xe9n\xe9ration...":"\uD83D\uDCC4 T\xe9l\xe9charger PDF"}),(0,n.jsx)("button",{className:"btn",onClick:()=>{let a=new Date(e);a.setDate(a.getDate()+7);let n=getMonday(a);t(n)},title:"Cr\xe9er une nouvelle semaine",children:"+ Nouvelle semaine"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,n.jsx)("label",{htmlFor:"week-select",children:"Aller \xe0 une semaine sp\xe9cifique : "}),(0,n.jsxs)("select",{id:"week-select",value:e,onChange:e=>t(e.target.value),style:{marginLeft:"0.5rem",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[j.map(e=>(0,n.jsx)("option",{value:e,children:getWeekDisplay(e)},e)),(0,n.jsxs)("option",{value:e,children:[getWeekDisplay(e)," (actuelle)"]})]})]}),(0,n.jsxs)("table",{id:"food-tracker-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Jour"}),(0,n.jsx)("th",{children:"Matin"}),(0,n.jsx)("th",{children:"Midi"}),(0,n.jsx)("th",{children:"Go\xfbter (16h)"}),(0,n.jsx)("th",{children:"Soir"}),(0,n.jsx)("th",{children:"Remarques"})]})}),(0,n.jsx)("tbody",{children:o.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:e.name})}),(0,n.jsx)("td",{children:(0,n.jsxs)("select",{value:getDayData(e.name,"morning"),onChange:t=>saveDayData(e.name,"morning",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- S\xe9lectionner --"}),d.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}),(0,n.jsxs)("td",{children:[(0,n.jsx)("div",{style:{marginBottom:"5px"},children:(0,n.jsxs)("select",{value:getDayData(e.name,"vegetable"),onChange:t=>saveDayData(e.name,"vegetable",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- L\xe9gume --"}),c.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}),(0,n.jsx)("div",{style:{marginBottom:"5px"},children:(0,n.jsxs)("select",{value:getDayData(e.name,"protein"),onChange:t=>saveDayData(e.name,"protein",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- Viande/Poisson --"}),x.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{value:getDayData(e.name,"fruit_lunch"),onChange:t=>saveDayData(e.name,"fruit_lunch",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- Fruit --"}),u.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})})]}),(0,n.jsx)("td",{children:(0,n.jsxs)("select",{value:getDayData(e.name,"snack"),onChange:t=>saveDayData(e.name,"snack",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- S\xe9lectionner --"}),m.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}),(0,n.jsx)("td",{children:(0,n.jsxs)("select",{value:getDayData(e.name,"evening"),onChange:t=>saveDayData(e.name,"evening",t.target.value),children:[(0,n.jsx)("option",{value:"",children:"-- S\xe9lectionner --"}),h.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}),(0,n.jsx)("td",{children:(0,n.jsx)("textarea",{value:getDayData(e.name,"remarks"),onChange:t=>saveDayData(e.name,"remarks",t.target.value),placeholder:"Notes, refus, pr\xe9f\xe9rences...",style:{minHeight:"80px"}})})]},e.name))})]}),(0,n.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"5px",fontSize:"0.9rem"},children:[(0,n.jsx)("h4",{style:{marginBottom:"0.5rem"},children:"Informations importantes :"}),(0,n.jsxs)("ul",{style:{margin:0,paddingLeft:"1.2rem"},children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Allaitement"})," : 5-6 t\xe9t\xe9es par jour \xe0 la demande, terminer par la t\xe9t\xe9e si elle compl\xe8te un repas solide"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"L\xe9gumes"})," : Cuits sans sel, avec 1 c.\xe0.c d'huile v\xe9g\xe9tale (colza, noix, olive) ou beurre"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Viandes/poissons"})," : 10g (2 c.\xe0.c), \xe9viter abats et charcuterie (sauf jambon cuit d\xe9couenn\xe9)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Fruits"})," : Bien m\xfbrs, crus ou cuits, sans sucre ajout\xe9"]})]})]})]})}function Recommendations(){let[e,t]=(0,s.useState)("recommendations"),a={morning:["210 ml d'eau faiblement min\xe9ralis\xe9e + 7 mesures aras\xe9es de lait 2\xe8me \xe2ge","Option avec c\xe9r\xe9ales : Ajouter 1 \xe0 2 cuill\xe8res \xe0 soupe de farines ou c\xe9r\xe9ales 2\xe8me \xe2ge (avec gluten)","Augmentation possible : +30 ml d'eau + 1 mesure aras\xe9e (si l'app\xe9tit l'exige)"],lunch:["Option 1 : Pur\xe9e de l\xe9gumes maison + 10g de viande ou poisson + dessert de fruits","Option 2 : Petit pot de 200g l\xe9gumes-viande ou l\xe9gumes-poisson + petit pot de 130g de fruits","Option 3 : Biberon de soupe avec 5 mesures de lait 2\xe8me \xe2ge"],snack:["Option 1 : Laitage b\xe9b\xe9 + biscuit + fruit","Option 2 : Biberon 210ml + 7 mesures lait + c\xe9r\xe9ales","Option 3 : Pur\xe9e de l\xe9gumes + biberon 120-150ml lait"]};return(0,n.jsxs)("div",{className:"tab-container",children:[(0,n.jsx)("div",{className:"tabs",children:[{id:"recommendations",label:"Recommandations"},{id:"forbidden",label:"Aliments \xe0 \xe9viter"},{id:"options",label:"Options de repas"}].map(a=>(0,n.jsx)("div",{className:"tab ".concat(e===a.id?"active":""),onClick:()=>t(a.id),children:a.label},a.id))}),(0,n.jsx)("div",{className:"tab-content ".concat("recommendations"===e?"active":""),children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"Recommandations G\xe9n\xe9rales"}),(0,n.jsx)("div",{className:"recommendations-grid",children:[{title:"Allaitement",content:"L'allaitement maternel se fait toujours \xe0 la demande durant la journ\xe9e (en moyenne 5 \xe0 6 t\xe9t\xe9es). Si une t\xe9t\xe9e compl\xe8te un repas solide, terminez par la t\xe9t\xe9e."},{title:"Respect de l'app\xe9tit",content:"Ne forcez jamais Joy Nathana\xebl \xe0 terminer son biberon. Respectez son app\xe9tit qui peut varier d'un jour \xe0 l'autre."},{title:"Vari\xe9t\xe9 alimentaire",content:"Proposez un seul l\xe9gume et un seul fruit par jour pour qu'il apprenne le go\xfbt particulier de chaque aliment. Changez chaque jour pour faciliter l'acceptation de nouveaux aliments."},{title:"Pers\xe9v\xe9rance",content:"Si Joy Nathana\xebl refuse un aliment, proposez-le de nouveau un autre jour, sans le forcer. Ne vous d\xe9couragez pas apr\xe8s plusieurs refus."},{title:"Cuisson et pr\xe9paration",content:"Les l\xe9gumes doivent \xeatre cuits sans adjonction de sel. Ajoutez 1 cuill\xe8re \xe0 caf\xe9 d'huile v\xe9g\xe9tale crue (colza, noix, soja, ma\xefs, olive) ou une noisette de beurre frais."},{title:"Quantit\xe9s",content:"Viande/poisson : 10g (2 cuill\xe8res \xe0 caf\xe9). Pour les l\xe9gumes, utilisez la pomme de terre comme liant pour les l\xe9gumes fluides."}].map((e,t)=>(0,n.jsxs)("div",{className:"recommendation-item",children:[(0,n.jsx)("h3",{children:e.title}),(0,n.jsx)("p",{children:e.content})]},t))})]})}),(0,n.jsx)("div",{className:"tab-content ".concat("forbidden"===e?"active":""),children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"Aliments \xe0 \xc9viter"}),(0,n.jsxs)("div",{className:"info-section",children:[(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"L\xe9gumes interdits"}),(0,n.jsx)("div",{className:"forbidden-item",children:(0,n.jsx)("ul",{children:["Choux","Raves","Navets","Oignons","Vert de poireaux","C\xe9leris","Persil","Salsifis","Cardons","Artichauts","Fenouil","Poivrons","Aubergines"].map((e,t)=>(0,n.jsx)("li",{children:e},t))})})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"Viandes et poissons \xe0 \xe9viter"}),(0,n.jsx)("div",{className:"forbidden-item",children:(0,n.jsx)("ul",{children:["Abats","Charcuterie (sauf jambon cuit d\xe9couenn\xe9)","Poissons : anguille, barbeau, br\xeame, carpe, silure, espadon, marlin, siki, requin, lamproie"].map((e,t)=>(0,n.jsx)("li",{children:e},t))})})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"Autres restrictions"}),(0,n.jsx)("div",{className:"forbidden-item",children:(0,n.jsx)("ul",{children:["Œuf peu cuit (attendre 1 an)","Sucre ajout\xe9 dans les fruits","Sel dans la pr\xe9paration des l\xe9gumes","Jus de fruits (non indispensables)"].map((e,t)=>(0,n.jsx)("li",{children:e},t))})})]})]})]})}),(0,n.jsx)("div",{className:"tab-content ".concat("options"===e?"active":""),children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"Options de Repas D\xe9taill\xe9es"}),(0,n.jsxs)("div",{className:"info-section",children:[(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"Options du Matin"}),(0,n.jsx)("ul",{children:a.morning.map((e,t)=>(0,n.jsx)("li",{style:{marginBottom:"0.5rem"},children:e},t))})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"Options du Repas de Midi"}),(0,n.jsx)("ul",{children:a.lunch.map((e,t)=>(0,n.jsx)("li",{style:{marginBottom:"0.5rem"},children:e},t))})]}),(0,n.jsxs)("div",{className:"info-box",children:[(0,n.jsx)("h3",{children:"Options du Go\xfbter"}),(0,n.jsx)("ul",{children:a.snack.map((e,t)=>(0,n.jsx)("li",{style:{marginBottom:"0.5rem"},children:e},t))})]})]})]})})]})}function TestComponent(){let[e,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t(!0)},[]),e)?(0,n.jsxs)("div",{className:"card",style:{border:"2px solid red",backgroundColor:"#fff0f0"},children:[(0,n.jsx)("h2",{children:"\uD83E\uDDEA Test Component - Si vous voyez ceci, React fonctionne"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1rem",margin:"1rem 0"},children:[(0,n.jsx)("button",{className:"btn",style:{backgroundColor:"blue",color:"white"},children:"Bouton Test 1"}),(0,n.jsx)("button",{className:"btn btn-success",children:"Bouton Test 2"}),(0,n.jsx)("button",{className:"btn btn-danger",children:"Bouton Test 3"})]}),(0,n.jsxs)("p",{children:["Date actuelle: ",new Date().toLocaleString("fr-FR")]})]}):(0,n.jsx)("div",{children:"Chargement du test..."})}function Home(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Header,{}),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(TestComponent,{}),(0,n.jsx)(FoodTracker,{}),(0,n.jsx)(Recommendations,{})]}),(0,n.jsxs)("footer",{className:"footer",children:[(0,n.jsx)("p",{children:"Application bas\xe9e sur les recommandations du Dr AIDIBE KADRA Sarah - P\xe9diatre"}),(0,n.jsx)("p",{children:"Les informations recueillies sont utilis\xe9es uniquement pour le suivi alimentaire de Joy Nathana\xebl"})]})]})}}},function(e){e.O(0,[673,971,472,744],function(){return e(e.s=4541)}),_N_E=e.O()}]);